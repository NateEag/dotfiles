// Generated by CoffeeScript 1.6.3
var cli, colors;

cli = require('../cli');

colors = require('colors');

module.exports = function(program) {
  return program.command('list').description('list available virtual machines').action(function(names, command) {
    return cli.find(null, '!missing').then(function(vms) {
      var heading, message;
      heading = "Available virtual machines:\n".green;
      message = vms.reduce(function(string, vm) {
        return string + ("\n" + vm.name.blue);
      }, heading);
      return console.log(message);
    });
  });
};
