#! /bin/bash

# Script to index my new mail via notmuch.

notmuch new

# Tag things related to learning more about tech.
notmuch tag -inbox +learn-tech from:kale@hackernewsletter.com
notmuch tag -inbox +learn-tech from:weekly@changelog.com
notmuch tag -inbox +learn-tech subject:"GitHub explore the month of"
notmuch tag -inbox +learn-tech subject:"\"[learn-tech]\""
notmuch tag -inbox +learn-tech subject:"\"[learn tech]\""

# Tag third-party software notifications as such, and skip the inbox.

notmuch tag -inbox +third-party-software to:notmuch@notmuchmail.org
notmuch tag -inbox +third-party-software from:webc-users@googlegroups.com
notmuch tag -inbox +third-party-software subject:"\"[Eastgate]\""
# Supposed to get all github notifications that weren't sent directly to
# me via one of my repos. Really not sure it's right.
notmuch tag -inbox +third-party-software from:notifications@github.com -to:nateeag

# Tag receipts as, well... receipts.
notmuch tag -inbox +receipts subject:"receipt"
notmuch tag -inbox +receipts from:online.communications@alerts.comcast.net subject:"Your bill is ready"
notmuch tag -inbox +receipts from:HomeDepotReceipt@homedepot.com
notmuch tag -inbox +receipts from:no-reply@toasttab.com
notmuch tag -inbox +receipts from:ATMReceipts@pnc.com
notmuch tag -inbox +receipts from:do-not-reply@salesvu.com
notmuch tag -inbox +receipts from:receipts@tx.redbox.com

# Promotions, a la gmail.
notmuch tag -inbox +promotions from:Redbox@em.redbox.com
notmuch tag -inbox +promotions from:CustomerCare@email.vioc.com

# Financial statements.
notmuch tag +financial-statements from:PNCBank_Statements@pnc.com
notmuch tag +financial-statements from:billpay@billpay.bankofamerica.com
notmuch tag +financial-statements from:servicecenter@rch1.com

# Events of potential interest.
notmuch tag -inbox +calendar-events from:emailclub@amtshows.com
notmuch tag -inbox +calendar-events from:newsletter@email.ticketmaster.com
notmuch tag -inbox +calendar-events from:newsletters@worldcafelive.com
notmuch tag -inbox +calendar-events from:jtams@ptd.net

# Note media recommendations I send to myself.
notmuch tag -inbox +media subject:"\"[media]\""

# It may be useful to have a good corpus of spam, come the day I eventually
# stop using gmail as my backend...
notmuch tag -inbox +spam from:noreply@companycapitalsource.com
notmuch tag -inbox +spam from:noreply@smallbusinessloansfundsource.com
notmuch tag -inbox +spam from:noreply@grabthebestoffers.com
notmuch tag -inbox +spam from:info@bluecapitalinc.com
notmuch tag -inbox +spam from:noreply@grammarnews.com
notmuch tag -inbox +spam from:noreply@merchantaccount4highrisk.com

# Things I tried to unsubscribe from that refused to respect it or were too
# annoying to bother getting through the process with.
notmuch tag -inbox +deleted subject:"Glassdoor Update"
notmuch tag -inbox +deleted info@mail.glassdoor.com
notmuch tag -inbox +deleted from:no-reply@youversion.com subject:"This month"
notmuch tag -inbox +deleted from:JCPenney@e.jcpenney.com
