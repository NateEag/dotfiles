#! /bin/bash

script_name="$(basename "$0")"

help_msg="Usage: $script_name <datestring> <target_timezone>

<datestring> can be fairly arbitrary, but it must include a timezone specifier.

<target_timezone> should be a recognized tzinfo name as used for a TZ env variable.

This is just a wrapper around GNU date - hence the 'fairly arbitrary' claim.

FIXME Validate that target_timezone is a tzinfo DB name.

TODO Support tab completion of tzinfo DB names."

if [ "$1" == '--help' ]; then
    echo "$help_msg"

    exit
elif [ $# -ne 2 ]; then
    echo "$help_msg" >&2

    exit 2
fi

TZ="$2" gdate --date="$1" +'%F %T %Z'
